<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins&display=swap">
    <link rel="stylesheet" href="/static/Style/adminNew.css">
    <script src="https://kit.fontawesome.com/85dc7f73ae.js" crossorigin="anonymous"></script>
    <title>NewBlog</title>
   
</head>

<body>

  <nav id="sidebar">
    <div>
      <h3 class="sidebar-header">Darul Hikmah</h3>
    </div>

    <ul class="list-unstyled components">
      <li>
        <a href="/getAdminPost"><i class="fa-solid fa-image"></i> Posts</a>
      </li>
      <li>
        <div class="dropdown">
          <span class="dropbtn"
            ><i class="fa-brands fa-readme"></i> Read
            <i class="fa fa-caret-down"></i>
          </span>
          <div class="dropdown-content">
            <a href="/getAdminBlog">Blogs</a>
            <a href="/getAdminInfographic">Infographics</a>
          </div>
        </div>
      </li>
      <li>
        <a href="/getAdminCourse"><i class="fa-solid fa-book"></i> Courses</a>
      </li>
      <li>
        <a href="/getAdminPublication"
          ><i class="fa-solid fa-book-bookmark"></i> Publications</a
        >
      </li>
      
    </ul>
    
  </nav>
    <div>
        <section class="section" id="blg">
            <div>
                <h3 class="Heading">Add New Blog</h3>
            </div>
            <div class="scroll">
                <form action="/getBlog" method="POST" enctype="multipart/form-data" id="blogForm">
                    <label for="title">Title</label>
                    <input type="text" name="title" placeholder="">

                    <label for="imageInput">Select Image:</label>
                    <input type="file" name="images" accept="image/*" required>
                    <p>Note: Upload 4 x 3 images for better enhancement.</p>

                    <div id="subheadingsContainer">
                        <div class="subheading" data-index="1">
                            <label for="subheading1">Subheading 1</label>
                            <input type="text" name="subheadings[]" required>

                            <label for="description1">Description 1</label>
                            <textarea name="descriptions[]" cols="30" rows="5" required></textarea>


                        </div>
                        <button class="removeSubheading" type="button" onclick="removeSubheading(2)">Remove</button>

                    </div>
            </div>

            <button class="button" type="button" onclick="addSubheading()">Add Subheading</button>
            <button class="button" type="submit">Submit</button>
            </form>

            <script>
                let subheadingCount = 1;

                function addSubheading() {
                    subheadingCount++;

                    const container = document.getElementById('subheadingsContainer');
                    const newSubheading = document.createElement('div');
                    newSubheading.className = 'subheading';
                    newSubheading.dataset.index = subheadingCount;

                    newSubheading.innerHTML = `
                    <label for="subheading${subheadingCount}">Subheading ${subheadingCount}</label>
                    <input type="text" name="subheadings[]" required>

                    <label for="description${subheadingCount}">Description ${subheadingCount}</label>
                    <textarea name="descriptions[]" cols="30" rows="5" required></textarea>

                    <button class="removeSubheading" type="button" onclick="removeSubheading(${subheadingCount})">Remove</button>
                `;

                    container.appendChild(newSubheading);
                }

                function removeSubheading(index) {
                    const container = document.getElementById('subheadingsContainer');
                    const subheadingToRemove = document.querySelector(`.subheading[data-index="${index}"]`);
                    container.removeChild(subheadingToRemove);
                    subheadingCount--;
                }
            </script>
        </section>
    </div>

</body>

</html>